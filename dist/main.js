!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports["vue-puzzle-vcode"]=n():t["vue-puzzle-vcode"]=n()}(window,(function(){return function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(i,o,function(n){return t[n]}.bind(null,o));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/dist/",e(e.s=6)}([function(t,n,e){var i=e(3),o=e(4);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var s={insert:"head",singleton:!1},a=(i(o,s),o.locals?o.locals:{});t.exports=a},function(t,n){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwcHgiIGhlaWdodD0iMjAwcHgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEwMCAxMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiBjbGFzcz0ibGRzLWVjbGlwc2UiIHN0eWxlPSJhbmltYXRpb24tcGxheS1zdGF0ZTogcnVubmluZzsgYW5pbWF0aW9uLWRlbGF5OiAwczsgYmFja2dyb3VuZDogbm9uZTsiPjxwYXRoIG5nLWF0dHItZD0ie3tjb25maWcucGF0aENtZH19IiBuZy1hdHRyLWZpbGw9Int7Y29uZmlnLmNvbG9yfX0iIHN0cm9rZT0ibm9uZSIgZD0iTTMwIDUwQTIwIDIwIDAgMCAwIDcwIDUwQTIwIDIxIDAgMCAxIDMwIDUwIiBmaWxsPSIjNjg5Y2M1IiBzdHlsZT0iYW5pbWF0aW9uLXBsYXktc3RhdGU6IHJ1bm5pbmc7IGFuaW1hdGlvbi1kZWxheTogMHM7IiB0cmFuc2Zvcm09InJvdGF0ZSgxNTQuOTcxIDUwIDUwLjUpIj48YW5pbWF0ZVRyYW5zZm9ybSBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iIHR5cGU9InJvdGF0ZSIgY2FsY01vZGU9ImxpbmVhciIgdmFsdWVzPSIwIDUwIDUwLjU7MzYwIDUwIDUwLjUiIGtleVRpbWVzPSIwOzEiIGR1cj0iMXMiIGJlZ2luPSIwcyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIHN0eWxlPSJhbmltYXRpb24tcGxheS1zdGF0ZTogcnVubmluZzsgYW5pbWF0aW9uLWRlbGF5OiAwczsiPjwvYW5pbWF0ZVRyYW5zZm9ybT48L3BhdGg+PC9zdmc+"},function(t,n,e){"use strict";var i=e(0);e.n(i).a},function(t,n,e){"use strict";var i,o=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},s=function(){var t={};return function(n){if(void 0===t[n]){var e=document.querySelector(n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[n]=e}return t[n]}}(),a=[];function r(t){for(var n=-1,e=0;e<a.length;e++)if(a[e].identifier===t){n=e;break}return n}function h(t,n){for(var e={},i=[],o=0;o<t.length;o++){var s=t[o],h=n.base?s[0]+n.base:s[0],c=e[h]||0,l="".concat(h," ").concat(c);e[h]=c+1;var d=r(l),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(u)):a.push({identifier:l,updater:v(u,n),references:1}),i.push(l)}return i}function c(t){var n=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var o=e.nc;o&&(i.nonce=o)}if(Object.keys(i).forEach((function(t){n.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(n);else{var a=s(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(t,n){return l[t]=n,l.filter(Boolean).join("\n")});function u(t,n,e,i){var o=e?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(n,o);else{var s=document.createTextNode(o),a=t.childNodes;a[n]&&t.removeChild(a[n]),a.length?t.insertBefore(s,a[n]):t.appendChild(s)}}function p(t,n,e){var i=e.css,o=e.media,s=e.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),s&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var g=null,f=0;function v(t,n){var e,i,o;if(n.singleton){var s=f++;e=g||(g=c(n)),i=u.bind(null,e,s,!1),o=u.bind(null,e,s,!0)}else e=c(n),i=p.bind(null,e,n),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return i(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else o()}}t.exports=function(t,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var e=h(t=t||[],n);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<e.length;i++){var o=r(e[i]);a[o].references--}for(var s=h(t,n),c=0;c<e.length;c++){var l=r(e[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}e=s}}}},function(t,n,e){(n=e(5)(!1)).push([t.i,".vue-puzzle-vcode {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 999;\n  opacity: 0;\n  pointer-events: none;\n  -webkit-transition: opacity 200ms;\n  transition: opacity 200ms;\n}\n.vue-puzzle-vcode.show {\n  opacity: 1;\n  pointer-events: auto;\n}\n.vue-auth-box {\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  padding: 20px;\n  background: #fff;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  border-radius: 3px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n}\n.vue-auth-box .auth-body {\n  position: relative;\n  overflow: hidden;\n  border-radius: 3px;\n}\n.vue-auth-box .auth-body .loading-box {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 20;\n  opacity: 1;\n  -webkit-transition: opacity 200ms;\n  transition: opacity 200ms;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n}\n.vue-auth-box .auth-body .loading-box.hide {\n  opacity: 0;\n  pointer-events: none;\n}\n.vue-auth-box .auth-body .loading-box img {\n  width: 120px;\n  height: auto;\n}\n.vue-auth-box .auth-body .info-box {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 24px;\n  line-height: 24px;\n  text-align: center;\n  overflow: hidden;\n  font-size: 13px;\n  background-color: #83ce3f;\n  opacity: 0;\n  -webkit-transform: translateY(24px);\n          transform: translateY(24px);\n  -webkit-transition: all 200ms;\n  transition: all 200ms;\n  color: #fff;\n  z-index: 10;\n}\n.vue-auth-box .auth-body .info-box.show {\n  opacity: 0.95;\n  -webkit-transform: translateY(0);\n          transform: translateY(0);\n}\n.vue-auth-box .auth-body .info-box.fail {\n  background-color: #ce594b;\n}\n.vue-auth-box .auth-body .auth-canvas2 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 70px;\n  height: 100%;\n  z-index: 2;\n}\n.vue-auth-box .auth-body .auth-canvas3 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  opacity: 0;\n  -webkit-transition: opacity 600ms;\n  transition: opacity 600ms;\n  z-index: 3;\n}\n.vue-auth-box .auth-body .auth-canvas3.show {\n  opacity: 1;\n}\n.vue-auth-box .auth-body .flash {\n  position: absolute;\n  top: 0;\n  left: -50px;\n  width: 30px;\n  height: 100%;\n  background-color: rgba(255, 255, 255, 0.1);\n  z-index: 3;\n}\n.vue-auth-box .auth-body .flash.show {\n  -webkit-transition: -webkit-transform 600ms;\n  transition: -webkit-transform 600ms;\n  transition: transform 600ms;\n  transition: transform 600ms, -webkit-transform 600ms;\n}\n.vue-auth-box .auth-body .reset {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  width: 35px;\n  height: auto;\n  z-index: 12;\n  cursor: pointer;\n  -webkit-transition: -webkit-transform 200ms;\n  transition: -webkit-transform 200ms;\n  transition: transform 200ms;\n  transition: transform 200ms, -webkit-transform 200ms;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n}\n.vue-auth-box .auth-body .reset:hover {\n  -webkit-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.vue-auth-box .auth-control .range-box {\n  position: relative;\n  width: 100%;\n  height: 50px;\n  background-color: #eef1f8;\n  margin-top: 20px;\n  border-radius: 3px;\n  box-shadow: 0 0 8px rgba(240, 240, 240, 0.6) inset;\n}\n.vue-auth-box .auth-control .range-box .range-text {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  font-size: 14px;\n  color: #b7bcd1;\n}\n.vue-auth-box .auth-control .range-box .range-slider {\n  position: absolute;\n  height: 100%;\n  width: 50px;\n  background-color: rgba(106, 160, 255, 0.8);\n  border-radius: 3px;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn {\n  position: absolute;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n          justify-content: center;\n  right: 0;\n  width: 50px;\n  height: 50px;\n  background-color: #fff;\n  border-radius: 3px;\n  box-shadow: 0 0 4px #ccc;\n  cursor: pointer;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn > div {\n  width: 0;\n  height: 40%;\n  -webkit-transition: all 200ms;\n  transition: all 200ms;\n  border: solid 1px #6aa0ff;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn > div:nth-child(2) {\n  margin: 0 4px;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn:hover > div:first-child,\n.vue-auth-box .auth-control .range-box .range-slider .range-btn.isDown > div:first-child {\n  border: solid 4px transparent;\n  height: 0;\n  border-right-color: #6aa0ff;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn:hover > div:nth-child(2),\n.vue-auth-box .auth-control .range-box .range-slider .range-btn.isDown > div:nth-child(2) {\n  border-width: 3px;\n  height: 0;\n  border-radius: 3px;\n  margin: 0 6px;\n  border-right-color: #6aa0ff;\n}\n.vue-auth-box .auth-control .range-box .range-slider .range-btn:hover > div:nth-child(3),\n.vue-auth-box .auth-control .range-box .range-slider .range-btn.isDown > div:nth-child(3) {\n  border: solid 4px transparent;\n  height: 0;\n  border-left-color: #6aa0ff;\n}\n.vue-puzzle-overflow {\n  overflow: hidden !important;\n}\n",""]),t.exports=n},function(t,n,e){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var e=function(t,n){var e=t[1]||"",i=t[3];if(!i)return e;if(n&&"function"==typeof btoa){var o=(a=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),h="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(h," */")),s=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[e].concat(s).concat([o]).join("\n")}var a,r,h;return[e].join("\n")}(n,t);return n[2]?"@media ".concat(n[2]," {").concat(e,"}"):e})).join("")},n.i=function(t,e,i){"string"==typeof t&&(t=[[null,t,""]]);var o={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var r=0;r<t.length;r++){var h=[].concat(t[r]);i&&o[h[0]]||(e&&(h[2]?h[2]="".concat(e," and ").concat(h[2]):h[2]=e),n.push(h))}},n}},function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:["vue-puzzle-vcode",{show:t.show}],attrs:{id:t.id},on:{mousedown:t.onCloseMouseDown,mouseup:t.onCloseMouseUp,touchstart:t.onCloseMouseDown,touchend:t.onCloseMouseUp}},[e("div",{staticClass:"vue-auth-box",on:{mousedown:function(t){t.stopPropagation()},touchstart:function(t){t.stopPropagation()}}},[e("div",{staticClass:"auth-body",style:"height: "+t.canvasHeight+"px"},[e("canvas",{ref:"canvas1",style:"width:"+t.canvasWidth+"px;height:"+t.canvasHeight+"px",attrs:{width:t.canvasWidth,height:t.canvasHeight}}),t._v(" "),e("canvas",{ref:"canvas3",class:["auth-canvas3",{show:t.isSuccess}],style:"width:"+t.canvasWidth+"px;height:"+t.canvasHeight+"px",attrs:{width:t.canvasWidth,height:t.canvasHeight}}),t._v(" "),e("canvas",{ref:"canvas2",staticClass:"auth-canvas2",style:"width:70px;height:"+t.canvasHeight+"px;transform:translateX("+(t.styleWidth-50-(t.styleWidth-50)/(t.canvasWidth-50)*20)+"px)",attrs:{width:"70",height:t.canvasHeight}}),t._v(" "),e("div",{class:["loading-box",{hide:!t.loading}]},[e("img",{attrs:{src:t.loadingSvg}})]),t._v(" "),e("div",{class:["info-box",{show:t.infoBoxShow},{fail:t.infoBoxFail}]},[t._v(t._s(t.infoText))]),t._v(" "),e("div",{class:["flash",{show:t.isSuccess}],style:"transform: translateX("+(t.isSuccess?t.canvasWidth+100+"px":"-50px")+") skew(-30deg, 0);"}),t._v(" "),e("img",{staticClass:"reset",attrs:{src:t.resetSvg},on:{click:t.reset}})]),t._v(" "),e("div",{staticClass:"auth-control"},[e("div",{staticClass:"range-box"},[e("div",{staticClass:"range-text"},[t._v(t._s(t.sliderText))]),t._v(" "),e("div",{ref:"range-slider",staticClass:"range-slider",style:"width:"+t.styleWidth+"px"},[e("div",{class:["range-btn",{isDown:t.mouseDown}],on:{mousedown:function(n){return t.onRangeMouseDown(n)},touchstart:function(n){return t.onRangeMouseDown(n)}}},[e("div"),t._v(" "),e("div"),t._v(" "),e("div")])])])])])])};i._withStripped=!0;var o=e(1),s=e.n(o),a={data:()=>({mouseDown:!1,startWidth:50,startX:0,newX:0,pinX:0,pinY:0,loading:!0,isCanSlide:!1,error:!1,infoBoxShow:!1,infoText:"",infoBoxFail:!1,timer1:null,closeDown:!1,isSuccess:!1,resetSvg:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAELklEQVRYR+2YW2wUZRTH//9vtlCoF9IoIklT3PqgPGi326hoetuaGEhIr9SgCYkkgt2WGOQVCca+GavWdr0GjD4YhG3RB3hply1LQA1tEQIxEXapGI2pEkys9LIzx2ylYWfY6e5sF0oi+7hzzvl+3/9855xvhrjNf7zN+XAHcL4Z+n8o6JWTeYt++W25S596AIZy6TB+n3yo+Nchlk8vmIIVowdXU9c3Q1gDSilBlQwjgBAYFGDvdF58/4milqvZwDpOcXWsb5Uh8hmBqkwXFMhlCN8aX5LXNbRy/T+Z+iXsHAFWRXs3QGQPyLucLDJrK5DgUXdTsxPfjAEro8E3Ce50EtxsKxPTwCPH3U2jTmJkBJgWTnAMxDeGMEoa0xQ+LJQnCD4HYFkCyAC3RdwN3U7gMkpxRTTYrMD91sCJIgCxV5R6O1Jcfy7VwonqLoj9/CqB2kF341qncGkBvRe+ureAWpRgoalCBecMFzcdK24YymZRJz5zprgq1tsJwXYL3CVZGvdGHmwZc7JQtra2gE+f712ep2QUYP714DJhaJrXLqXZQszlZwtYdSHoB9ljVk/ePVrSZFL0ZkAlxzQBVseCT8WhZhRThtFB8plk9Zi/qCi8cv0fNxvKFrDy4oF11NXXIFy2EII4iBcG3Y03VLZT8OqRd5aFPduvOEpxRayvXolxAKB2g6NgEhobBlc1HHYKY7WvHf5wtVAPgegIlbbZ9seUZ7AyFnwewi9pGoUyDmhrB931kfnC1ZwOeKlLP8GZJi6QLSFP2yep4toXSbT3ZQAfX3O6omt8Nhd9r/aHQAUMOQywYBZo5uZD2ThQ2rbPCjlnH6yI9rUryE5DU75ctJaake46Be4DuDjF8dFBNA94/AdtiySVxIlpMlTS8td801o70vMigM9huTda2lhcKHVHPO2HZv/P6LIwX7hk/+qzPSvUJGMkrg8AQYTkroRdXMlE+HH/twsG6BsOdJHYZlaO/lBZ6weOiiSXqs3Gqj0TeAxx+T75DIpgwjC0onD51pQD4JaluPrkR/cpFT9DcoVp84LOgTL/DjtBbglgou+puHwB8lEznPxJw1XSX77VtgizBvQNBw4RMqB7xt4Lc3c8lQKJaQHoO4R8ydz0/7MWoCXk8c85MrMC9J3qaafw/WtQlwXST+F3BnAeYB4obgJ1BJIuG+YtiKAjVOZ/Pd1ZdwzoG+4uBtSPpjaRbhXLcwF3hzytb2TilgVgT5BkYybBrTYC+Rvg5nRpdTRJrIs8+VPXPQXj2i4ItxC4O2NQQUQnN4U9rRcz9nH64p4ceM2lziX5Y4s3KHCdUHwE77ecMkMEp6BwhIa2Z6DslZRvfulgHafYLuCas58WLp2aLCFUga70qxOFU6dPFL2W1feYeaU43Y5z/TxnCuYabMEuC043ckdBp4pZ7f8FE5psOI1g6fwAAAAASUVORK5CYII=",loadingSvg:s.a,imgIndex:-1}),props:{id:{type:String},canvasWidth:{type:Number,default:310},canvasHeight:{type:Number,default:160},show:{type:Boolean,default:!1},imgs:{type:Array},successText:{type:String,default:"验证通过！"},failText:{type:String,default:"验证失败，请重试"},sliderText:{type:String,default:"拖动滑块完成拼图"}},mounted(){document.body.appendChild(this.$el),document.addEventListener("mousemove",this.onRangeMouseMove,!1),document.addEventListener("mouseup",this.onRangeMouseUp,!1),document.addEventListener("touchmove",this.onRangeMouseMove,{passive:!1}),document.addEventListener("touchend",this.onRangeMouseUp,!1),this.show&&document.body.classList.add("vue-puzzle-overflow"),this.reset()},beforeDestroy(){clearTimeout(this.timer1),document.body.removeChild(this.$el),document.removeEventListener("mousemove",this.onRangeMouseMove,!1),document.removeEventListener("mouseup",this.onRangeMouseUp,!1),document.removeEventListener("touchmove",this.onRangeMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onRangeMouseUp,!1)},watch:{show(t){t?(document.body.classList.add("vue-puzzle-overflow"),this.reset()):document.body.classList.remove("vue-puzzle-overflow")}},computed:{styleWidth(){const t=this.startWidth+this.newX-this.startX;return t<50?50:t>this.canvasWidth?this.canvasWidth:t}},methods:{onClose(){this.mouseDown||(clearTimeout(this.timer1),this.$emit("close"))},onCloseMouseDown(){this.closeDown=!0},onCloseMouseUp(){this.closeDown&&this.onClose(),this.closeDown=!1},onRangeMouseDown(t){this.isCanSlide&&(this.mouseDown=!0,this.startWidth=this.$refs["range-slider"].clientWidth,this.newX=t.clientX||t.changedTouches[0].clientX,this.startX=t.clientX||t.changedTouches[0].clientX)},onRangeMouseMove(t){this.mouseDown&&(t.preventDefault(),this.newX=t.clientX||t.changedTouches[0].clientX)},onRangeMouseUp(){this.mouseDown&&(this.mouseDown=!1,this.submit())},init(t){this.loading=!0;const n=this.$refs.canvas1,e=this.$refs.canvas2,i=this.$refs.canvas3,o=n.getContext("2d"),s=e.getContext("2d"),a=i.getContext("2d"),r=document.createElement("img");if(o.clearRect(0,0,this.canvasWidth,this.canvasHeight),s.clearRect(0,0,70,this.canvasHeight),this.pinX=this.getRandom(90,this.canvasWidth-90),this.pinY=this.getRandom(20,this.canvasHeight-90),r.crossOrigin="anonymous",r.onload=()=>{const[t,n,e,i]=this.makeImgSize(r);o.save(),this.paintBrick(o),o.closePath(),navigator.userAgent.indexOf("Firefox")>=0&&navigator.userAgent.indexOf("Windows")>=0||(o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor="#000",o.shadowBlur=5,o.fill()),o.clip(),o.save(),o.shadowOffsetX=0,o.shadowOffsetY=0,o.shadowColor="#000",o.shadowBlur=3,o.fill(),o.restore(),o.drawImage(r,t,n,e,i),a.drawImage(r,t,n,e,i),o.globalCompositeOperation="source-atop",this.paintBrick(o),o.arc(this.pinX+35,this.pinY+35,80,0,2*Math.PI,!0),o.closePath(),o.shadowColor="rgba(255, 255, 255, .8)",o.shadowOffsetX=-1,o.shadowOffsetY=-1,o.shadowBlur=10,o.fillStyle="#ffffaa",o.fill();const h=o.getImageData(this.pinX-3,this.pinY-20,this.pinX+75,this.pinY+50);s.putImageData(h,0,this.pinY-20),o.restore(),o.clearRect(0,0,this.canvasWidth,this.canvasHeight),o.save(),this.paintBrick(o),o.globalAlpha=.8,o.fillStyle="#ffffff",o.fill(),o.restore(),o.save(),o.globalCompositeOperation="source-atop",this.paintBrick(o),o.arc(this.pinX+35,this.pinY+35,80,0,2*Math.PI,!0),o.shadowColor="#000",o.shadowOffsetX=2,o.shadowOffsetY=2,o.shadowBlur=16,o.fill(),o.restore(),o.save(),o.globalCompositeOperation="destination-over",o.drawImage(r,t,n,e,i),o.restore(),this.loading=!1},r.onerror=()=>{this.init(!0)},!t&&this.imgs&&this.imgs.length){let t=this.getRandom(0,this.imgs.length-1);t===this.imgIndex&&(t===this.imgs.length-1?t=0:t++),this.imgIndex=t,r.src=this.imgs[t]}else r.src=this.makeImgWithCanvas()},getRandom:(t,n)=>Math.round(Math.random()*(n-t)+t),makeImgSize(t){const n=t.width/t.height;let e=0,i=0,o=0,s=0;return n>this.canvasWidth/this.canvasHeight?(s=this.canvasHeight,o=n*s,i=0,e=(this.canvasWidth-o)/2):(o=this.canvasWidth,s=o/n,e=0,i=(this.canvasHeight-s)/2),[e,i,o,s]},paintBrick(t){t.beginPath(),t.moveTo(this.pinX,this.pinY),t.lineTo(this.pinX+15,this.pinY),t.bezierCurveTo(this.pinX+15,this.pinY-20,this.pinX+15+20,this.pinY-20,this.pinX+15+20,this.pinY),t.lineTo(this.pinX+15+20+15,this.pinY),t.lineTo(this.pinX+15+20+15,this.pinY+15),t.bezierCurveTo(this.pinX+15+20+15+20,this.pinY+15,this.pinX+15+20+15+20,this.pinY+15+20,this.pinX+15+20+15,this.pinY+15+20),t.lineTo(this.pinX+15+20+15,this.pinY+15+20+15),t.lineTo(this.pinX,this.pinY+15+20+15),t.lineTo(this.pinX,this.pinY+15+20),t.bezierCurveTo(this.pinX+20,this.pinY+15+20,this.pinX+20,this.pinY+15,this.pinX,this.pinY+15),t.lineTo(this.pinX,this.pinY)},makeImgWithCanvas(){const t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.canvasWidth,t.height=this.canvasHeight,n.fillStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,n.fillRect(0,0,this.canvasWidth,this.canvasHeight);for(let t=0;t<10;t++)if(n.fillStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,n.strokeStyle=`rgb(${this.getRandom(100,255)},${this.getRandom(100,255)},${this.getRandom(100,255)})`,this.getRandom(0,2)>1)n.save(),n.rotate(this.getRandom(-90,90)*Math.PI/180),n.fillRect(this.getRandom(-20,this.canvasWidth-20),this.getRandom(-20,this.canvasHeight-20),this.getRandom(10,this.canvasWidth/2+10),this.getRandom(10,this.canvasHeight/2+10)),n.restore();else{n.beginPath();const t=this.getRandom(-Math.PI,Math.PI);n.arc(this.getRandom(0,this.canvasWidth),this.getRandom(0,this.canvasHeight),this.getRandom(10,this.canvasHeight/2+10),t,t+1.5*Math.PI),n.closePath(),n.fill()}return t.toDataURL("image/png")},submit(){const t=Math.abs(this.pinX-(this.styleWidth-50)+(this.styleWidth-50)/(this.canvasWidth-50)*20-3);t<10?(this.infoText=this.successText,this.infoBoxFail=!1,this.infoBoxShow=!0,this.isCanSlide=!1,this.isSuccess=!0,clearTimeout(this.timer1),this.timer1=setTimeout(()=>{this.$emit("success",t)},800)):(this.infoText=this.failText,this.infoBoxFail=!0,this.infoBoxShow=!0,this.isCanSlide=!1,this.$emit("fail",t),clearTimeout(this.timer1),this.timer1=setTimeout(()=>{this.reset()},800))},reset(){this.infoBoxFail=!1,this.infoBoxShow=!1,this.isCanSlide=!0,this.isSuccess=!1,this.startWidth=50,this.startX=0,this.newX=0,this.init()}}};e(2);var r=function(t,n,e,i,o,s,a,r){var h,c="function"==typeof t?t.options:t;if(n&&(c.render=n,c.staticRenderFns=e,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(h=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=h):o&&(h=r?function(){o.call(this,this.$root.$options.shadowRoot)}:o),h)if(c.functional){c._injectStyles=h;var l=c.render;c.render=function(t,n){return h.call(n),l(t,n)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,h):[h]}return{exports:t,options:c}}(a,i,[],!1,null,null,null);r.options.__file="src/app.vue";var h=r.exports;n.default=h}])}));